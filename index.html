<DOCTYPE html>
  <html>

  <head>
    <meta charset="UTF-8">
    <title>WEIRD NXC</title>
    <meta charset="UTF-8">
    <link rel="apple-touch-icon" sizes="180x180" href="favicon/apple-touch-icon.png">
    <!-- <link rel="shortcut icon" type="image/png" sizes="32x32" href="favicon/favicon-32x32.png"> -->
    <script src="https://kit.fontawesome.com/a076d05399.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://unpkg.com/sweet-scroll/sweet-scroll.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/lightbox2/2.8.2/js/lightbox.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/slick-carousel/1.9.0/slick.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/granim/2.0.0/granim.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/2.1.3/TweenMax.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/ScrollMagic/2.0.7/ScrollMagic.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/ScrollMagic/2.0.7/plugins/animation.gsap.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/ScrollMagic/2.0.7/plugins/debug.addIndicators.min.js"></script>
    <script src="https://s3-us-west-2.amazonaws.com/s.cdpn.io/16327/Draggable-latest-beta.js" charset="utf-8"></script>
    <script src="https://.googleapis.com/ajax/libs/jqueryui/1.10.3/jquery-ui.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/jquery.scrollto@2.1.2/jquery.scrollTo.min.js"></script>

    <script src="https://cdn.babylonjs.com/babylon.js" charset="utf-8"></script>
    <script src="https://cdn.babylonjs.com/loaders/babylonjs.loaders.min.js"></script>
    <script src="https://cdn.babylonjs.com/materialsLibrary/babylonjs.materials.min.js" charset="utf-8"></script>
    <script src='node_modules/frosted-glass/dist/frostedglass.js'></script>
    <!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/paper.js/0.12.11/paper-full.min.js" charset="utf-8"></script> -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/simplex-noise/2.4.0/simplex-noise.min.js"></script>
    <!-- <scriptsrc="https://code.jquery.com/ui/1.12.1/jquery-ui.min.js" integrity="sha256-VazP97ZCwtekAsvgPBSUwPFKdrwD3unUfSGVYrahUqU=" crossorigin="anonymous"></script> -->
    <script src="https://cdn.jsdelivr.net/npm/amplitudejs@latest/dist/amplitude.min.js" charset="utf-8"></script>
    <script src="plugins/easingScript.js" charset="utf-8"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r99/three.min.js"></script>
    <script src="plugins/GLTFLoader.js"></script>
    <script src="curtain.min.js" charset="utf-8"></script>
    <script src="plugins/OrbitControls.js"></script>
    <script src="plugins/hdri.js"></script>
    <script src='plugins/RGBELoader.js'></script>
    <script src="plugins/blotter.js" charset="utf-8"></script>
    <!-- <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/lightbox2/2.11.1/css/lightbox.css"> -->
    <!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/Blotter/0.1.0/materials/fliesMaterial.min.js" charset="utf-8"></script> -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.0.0/animate.min.css">
    <script src="plugins/PLYLoader.js" charset="utf-8"></script>
    <!-- <link rel="stylesheet" type = "image/ico" href="data/> -->

    <link rel="stylesheet" type="text/css" media="screen" href="style.css">
  </head>
  <script src="plugins/anime.min.js"></script>

  <style>
    #mainBodyDiv{
      /* display: none; */
      width: 100%;
      height: 100%;
      position: relative;
    }
    #mainCanvas{

      display: none;
      width: 100vw;
      height: 100%;
      position: absolute;
      top: 0;
      background: transparent;
      z-index: 1;
    }
    #gradientCanvas{

      /* display: none; */
      width: 100vw;
      height: 100%;
      position: absolute;
      top: 0;
      background: transparent;
      z-index: 0;
    }
    #threeCanvas{
      /* display: none; */
      width: 100%;
      height: 100%;
      position: absolute;
      z-index: -10
    }
    #time-container{
      position: absolute;
      bottom: 0;
      width: 100%;

    }


  </style>
  <!-- player style -->
  <style>

            /*
            1. Base
          */

          /*
            2. Components
          */
          div#amplitude-player {
            /* background: #FFFFFF; */
            background: rgba(#ffffff, 0);
            /* box-shadow: 0 2px 12px 8px rgba(0, 0, 0, 0.1); */
            margin: auto;
            margin-top: 20px;
            margin-bottom: 20px;
            display: flex;
            max-width: 900px ;
            width: 50%;
            flex-direction: column;
           }


          /* Small only */
          @media screen and (max-width: 39.9375em) {
            div#amplitude-player {
              flex-direction: column; } }
          /* Medium only */
          @media screen and (min-width: 40em) and (max-width: 63.9375em) {
            div#amplitude-player {
              /* max-height: 715px;  */
            } }
          /* Large and up */
          @media screen and (min-width: 64em) {
            div#amplitude-player {
              /* max-height: 715px; */
             } }
          div#amplitude-left {
            padding: 0px;
            border-right: 1px solid #CFD8DC;
            /* width: 50%; */
            display: flex;
            flex-direction: column; }
            div#amplitude-left img.album-art {
              width: 100%; }
            div#amplitude-left div#player-left-bottom {
              flex: 1;
              background-color: #F1F1F1;
              padding: 20px 10px;
              flex: 1;
              width: 50%;
              border-radius: 26px;
              margin: auto;
              background-color: #F1F1F1;
              padding: 20px 10px;

            }
              div#amplitude-left div#player-left-bottom div#volume-container:after {
                content: "";
                display: table;
                clear: both; }

          /* Small only */
          @media screen and (max-width: 39.9375em) {
            div#amplitude-player div#amplitude-left {
              width: 100%; }
              div#amplitude-player div#amplitude-left img[amplitude-song-info="cover_art_url"] {
                width: auto;
                height: auto; } }
          div#amplitude-right {
            padding: 0px;
            overflow-y: scroll;
            /* width: 50%; */
            display: flex;
            flex-direction: column;

           }
            /* div#amplitude-right div.song { */
            div.song {
              cursor: pointer;
              display: flex;
              padding: 4px;
              /* padding: 10px; */
              border-top: 2px solid rgba(225, 225, 225, 0.2);
              border-left: 1px solid rgba(225, 225, 225, 0.1);
              border-right: 1px solid rgba(225, 225, 225, 0.3);
              box-shadow: white 0px 30px 40px -2em inset;
              0 1px 2px #fff, /*bottom external highlight*/
              0 -1px 1px #666, /*top external shadow*/
              inset 0 -1px 1px rgba(0,0,0,0.5), /*bottom internal shadow*/
              inset 0 1px 1px rgba(255,255,255,0.8); /*top internal highlight*/
              z-index: 2;
              border-radius: 50px;
            }
            div.song span.song-artist a{
              color: #b775ff;
            }
            a.song-title::after{
              content:' - '
            }
          div.song div.song-now-playing-icon-container {
                float: left;
                width: 20px;
                height: 20px;
                margin-right: 10px; }
             div.song div.song-now-playing-icon-container img.now-playing {
                  display: none;
                  margin-top: 15px; }
            div.song div.play-button-container {
                display: none;
                background: url("https://521dimensions.com/img/open-source/amplitudejs/blue-player/list-play-light.png") no-repeat;
                width: 22px;
                height: 22px;
                margin-top: 10px; }
            div.song div.play-button-container:hover {
                background: url("https://521dimensions.com/img/open-source/amplitudejs/blue-player/list-play-hover.png") no-repeat; }
            div.song.amplitude-active-song-container div.song-now-playing-icon-container img.now-playing {
                display: block; }
           div.song.amplitude-active-song-container:hover div.play-button-container {
                display: none; }
           div.song div.song-meta-data {
                float: left;
                padding-top: 10px;
                width: calc( 100% - 110px );
                display: flex;
              }
           div.song div.song-meta-data span.song-title {
                  color: #272726;
                  font-size: 16px;
                  display: block;
                  font-weight: 300;
                  white-space: nowrap;
                  overflow: hidden;
                  text-overflow: ellipsis;
                }
          div.song div.song-meta-data span.song-title::after{
                  content: ' - ';
                }
          div.song div.song-meta-data span.song-artist {
                  color: #607D8B;
                  font-size: 14px;
                  font-weight: bold;
                  text-transform: uppercase;
                  display: block;
                  white-space: nowrap;
                  overflow: hidden;
                  text-overflow: ellipsis; }
           div.song img.bandcamp-grey {
                float: left;
                display: block;
                margin-top: 10px; }
             div.song img.bandcamp-white {
                float: left;
                display: none;
                margin-top: 10px; }
            div.song span.song-duration {
                float: left;
                width: 55px;
                text-align: center;
                line-height: 45px;
                color: #607D8B;
                font-size: 16px;
                font-weight: 500; }
           div.song:after {
              content: "";
              display: table;
              clear: both; }

          /* Small only */
          @media screen and (max-width: 39.9375em) {
            div#amplitude-player div#amplitude-right {
              width: 100%; } }
          div#progress-container {
            /* width: 70%; */
            float: left;
            position: relative;
            height: 20px;
            cursor: pointer;
            width: 100%;
            background-color: pink;
            /* position: absolute; */

            /*
              IE 11
            */ }
            div#progress-container:hover input[type=range].amplitude-song-slider::-webkit-slider-thumb {
              display: block; }
            div#progress-container:hover input[type=range].amplitude-song-slider::-moz-range-thumb {
              visibility: visible; }
            div#progress-container progress#song-played-progress {
              width: 100%;
              position: absolute;
              left: 0;
              top: 8px;
              right: 0;
              width: 100%;
              z-index: 60;
              -webkit-appearance: none;
              -moz-appearance: none;
              appearance: none;
              height: 4px;
              border-radius: 5px;
              background: transparent;
              border: none;
              /* Needed for Firefox */ }
            @media all and (-ms-high-contrast: none) {
              div#progress-container *::-ms-backdrop, div#progress-container progress#song-played-progress {
                color: #00A0FF;
                border: none;
                background-color: #CFD8DC; } }
            @supports (-ms-ime-align: auto) {
              div#progress-container progress#song-played-progress {
                color: #00A0FF;
                border: none; } }
            div#progress-container progress#song-played-progress[value]::-webkit-progress-bar {
              background: none;
              border-radius: 5px; }
            div#progress-container progress#song-played-progress[value]::-webkit-progress-value {
              background-color: #00A0FF;
              border-radius: 5px; }
            div#progress-container progress#song-played-progress::-moz-progress-bar {
              background: none;
              border-radius: 5px;
              background-color: #00A0FF;
              height: 5px;
              margin-top: -2px; }
            div#progress-container progress#song-buffered-progress {
              position: absolute;
              left: 0;
              top: 8px;
              right: 0;
              width: 100%;
              z-index: 10;
              -webkit-appearance: none;
              -moz-appearance: none;
              appearance: none;
              height: 4px;
              border-radius: 5px;
              background: transparent;
              border: none;
              background-color: #D7DEE3; }
            div#progress-container progress#song-buffered-progress[value]::-webkit-progress-bar {
              background-color: #CFD8DC;
              border-radius: 5px; }
            div#progress-container progress#song-buffered-progress[value]::-webkit-progress-value {
              background-color: #78909C;
              border-radius: 5px;
              transition: width .1s ease; }
            div#progress-container progress#song-buffered-progress::-moz-progress-bar {
              background: none;
              border-radius: 5px;
              background-color: #78909C;
              height: 5px;
              margin-top: -2px; }
            div#progress-container progress::-ms-fill {
              border: none; }
          @-moz-document url-prefix() {
            div#progress-container progress#song-buffered-progress {
              top: 9px;
              border: none; } }
            @media all and (-ms-high-contrast: none) {
              div#progress-container *::-ms-backdrop, div#progress-container progress#song-buffered-progress {
                color: #78909C;
                border: none; } }
            @supports (-ms-ime-align: auto) {
              div#progress-container progress#song-buffered-progress {
                color: #78909C;
                border: none; } }
            div#progress-container input[type=range] {

                  -webkit-appearance: none;
                  width: 100vw;
                  margin: 7.5px 0;
                  position: absolute;
                  z-index: 9999;
                  top: -7px;
                  /* height: 64px; */
                  height: 18px;
                  cursor: pointer;
                  background-color: inherit;

            }
            div#progress-container input[type=range]:focus {
              outline: none; }
            div#progress-container input[type=range]::-webkit-slider-runnable-track {
              width: 100%;
              height: 0px;
              /* height: 10px; */
              cursor: pointer;
              box-shadow: 0px 0px 0px rgba(0, 0, 0, 0), 0px 0px 0px rgba(13, 13, 13, 0);
              background: #0075a9;
              border-radius: 0px;
              border: 0px solid #010101;
             }
            div#progress-container input[type=range]::-webkit-slider-thumb {
              box-shadow: 0px 0px 0px #000000, 0px 0px 0px #0d0d0d;
              border: 1px solid #00a0ff;
              height: 15px;
              width: 15px;
              border-radius: 16px;
              background: #00a0ff;
              cursor: pointer;
              -webkit-appearance: none;
              margin-top: -7.5px; }
            div#progress-container input[type=range]:focus::-webkit-slider-runnable-track {
              background: #00adfb; }
            div#progress-container input[type=range]::-moz-range-track {
              width: 100%;
              height: 0px;
              cursor: pointer;
              box-shadow: 0px 0px 0px rgba(0, 0, 0, 0), 0px 0px 0px rgba(13, 13, 13, 0);
              background: #0075a9;
              border-radius: 0px;
              border: 0px solid #010101; }
            div#progress-container input[type=range]::-moz-range-thumb {
              box-shadow: 0px 0px 0px #000000, 0px 0px 0px #0d0d0d;
              border: 1px solid #00a0ff;
              height: 15px;
              width: 15px;
              border-radius: 16px;
              background: #00a0ff;
              cursor: pointer; }
            div#progress-container input[type=range]::-ms-track {
              width: 100%;
              height: 0px;
              cursor: pointer;
              background: transparent;
              border-color: transparent;
              color: transparent; }
            div#progress-container input[type=range]::-ms-fill-lower {
              background: #003d57;
              border: 0px solid #010101;
              border-radius: 0px;
              box-shadow: 0px 0px 0px rgba(0, 0, 0, 0), 0px 0px 0px rgba(13, 13, 13, 0); }
            div#progress-container input[type=range]::-ms-fill-upper {
              background: #0075a9;
              border: 0px solid #010101;
              border-radius: 0px;
              box-shadow: 0px 0px 0px rgba(0, 0, 0, 0), 0px 0px 0px rgba(13, 13, 13, 0); }
            div#progress-container input[type=range]::-ms-thumb {
              box-shadow: 0px 0px 0px #000000, 0px 0px 0px #0d0d0d;
              border: 1px solid #00a0ff;
              height: 15px;
              width: 15px;
              border-radius: 16px;
              background: #00a0ff;
              cursor: pointer;
              height: 0px;
              display: block; }
            @media all and (-ms-high-contrast: none) {
              div#progress-container *::-ms-backdrop, div#progress-container input[type="range"].amplitude-song-slider {
                padding: 0px; }
              div#progress-container *::-ms-backdrop, div#progress-container input[type=range].amplitude-song-slider::-ms-thumb {
                height: 15px;
                width: 15px;
                border-radius: 10px;
                cursor: pointer;
                margin-top: -8px; }
              div#progress-container *::-ms-backdrop, div#progress-container input[type=range].amplitude-song-slider::-ms-track {
                border-width: 15px 0;
                border-color: transparent; }
              div#progress-container *::-ms-backdrop, div#progress-container input[type=range].amplitude-song-slider::-ms-fill-lower {
                background: #CFD8DC;
                border-radius: 10px; }
              div#progress-container *::-ms-backdrop, div#progress-container input[type=range].amplitude-song-slider::-ms-fill-upper {
                background: #CFD8DC;
                border-radius: 10px; } }
            @supports (-ms-ime-align: auto) {
              div#progress-container input[type=range].amplitude-song-slider::-ms-thumb {
                height: 15px;
                width: 15px;
                margin-top: 3px; } }
            div#progress-container input[type=range]:focus::-ms-fill-lower {
              background: #0075a9; }
            div#progress-container input[type=range]:focus::-ms-fill-upper {
              background: #00adfb; }

          div#control-container {
            margin-top: 25px;
            margin-top: 20px;
            background-color: red;
            display: flex;
            /* flex-direction: column; */

          }
            div#control-container div#repeat-container {
              width: 25%;
              float: left;
              padding-top: 20px;
             margin: auto;
             }

              div#control-container div#repeat-container div#repeat {
                width: 24px;
                height: 19px;
                cursor: pointer; }
                div#control-container div#repeat-container div#repeat.amplitude-repeat-off {
                  background: url("https://521dimensions.com/img/open-source/amplitudejs/blue-player/repeat-off.svg"); }
                div#control-container div#repeat-container div#repeat.amplitude-repeat-on {
                  background: url("https://521dimensions.com/img/open-source/amplitudejs/blue-player/repeat-on.svg"); }
              div#control-container div#repeat-container div#shuffle {
                width: 23px;
                height: 19px;
                cursor: pointer;
                float: right; }
                div#control-container div#repeat-container div#shuffle.amplitude-shuffle-off {
                  background: url("https://521dimensions.com/img/open-source/amplitudejs/blue-player/shuffle-off.svg"); }
                div#control-container div#repeat-container div#shuffle.amplitude-shuffle-on {
                  background: url("https://521dimensions.com/img/open-source/amplitudejs/blue-player/shuffle-on.svg"); }
            @media all and (-ms-high-contrast: none) {
              div#control-container *::-ms-backdrop, div#control-container div#control-container {
                margin-top: 40px;
                float: none; } }
            div#control-container div#central-control-container {
              /* width: 50%; */
              float: left; }
              div#control-container div#central-control-container div#central-controls {
                width: 130px;
                margin: auto; }
                div#control-container div#central-control-container div#central-controls div#previous {
                  display: inline-block;
                  width: 40px;
                  height: 40px;
                  cursor: pointer;
                  background: url("https://521dimensions.com/img/open-source/amplitudejs/blue-player/prev.svg");
                  background-repeat: no-repeat;
                  float: left;
                  margin-top: 10px;
                  margin-right: -5px; }
                div#control-container div#central-control-container div#central-controls div#play-pause {
                  display: inline-block;
                  width: 60px;
                  height: 60px;
                  cursor: pointer;
                  float: left; }
                  div#control-container div#central-control-container div#central-controls div#play-pause.amplitude-paused {
                    background: url("https://521dimensions.com/img/open-source/amplitudejs/blue-player/play.svg"); }
                  div#control-container div#central-control-container div#central-controls div#play-pause.amplitude-playing {
                    background: url("https://521dimensions.com/img/open-source/amplitudejs/blue-player/pause.svg"); }
                div#control-container div#central-control-container div#central-controls div#next {
                  display: inline-block;
                  width: 40px;
                  height: 40px;
                  cursor: pointer;
                  background: url("https://521dimensions.com/img/open-source/amplitudejs/blue-player/next.svg");
                  background-repeat: no-repeat;
                  float: left;
                  margin-top: 10px;
                  margin-left: -5px; }
            div#control-container div#volume-container {
              width: 25%;
              float: left;
              padding-top: 20px; }
              div#control-container div#volume-container div#shuffle-right {
                width: 23px;
                height: 19px;
                cursor: pointer;
                margin: auto; }
                div#control-container div#volume-container div#shuffle-right.amplitude-shuffle-off {
                  background: url("https://521dimensions.com/img/open-source/amplitudejs/blue-player/shuffle-off.svg"); }
                div#control-container div#volume-container div#shuffle-right.amplitude-shuffle-on {
                  background: url("https://521dimensions.com/img/open-source/amplitudejs/blue-player/shuffle-on.svg"); }
            div#control-container div.amplitude-mute {
              cursor: pointer;
              width: 25px;
              height: 19px;
              float: left; }
              div#control-container div.amplitude-mute.amplitude-not-muted {
                /* background: url("https://521dimensions.com/img/open-source/amplitudejs/blue-players/volume.svg"); */
                background-repeat: no-repeat; }
              div#control-container div.amplitude-mute.amplitude-muted {
                background: url("https://521dimensions.com/img/open-source/amplitudejs/blue-player/mute.svg");
                background-repeat: no-repeat; }

          div#control-container:after {
            content: "";
            display: table;
            clear: both; }

          /* Small only */
          @media screen and (max-width: 39.9375em) {
            div#amplitude-player div#repeat-container div#repeat {
              margin-left: auto;
              margin-right: auto;
              float: none; }
            div#amplitude-player div#repeat-container div#shuffle {
              display: none; }
            div#amplitude-player div#volume-container div.volume-controls {
              display: none; }
            div#amplitude-player div#volume-container div#shuffle-right {
              display: block; } }
          /* Medium only */
          @media screen and (min-width: 40em) and (max-width: 63.9375em) {
            div#amplitude-player div#repeat-container div#repeat {
              margin-left: auto;
              margin-right: auto;
              float: none; }
            div#amplitude-player div#repeat-container div#shuffle {
              display: none; }
            div#amplitude-player div#volume-container div.volume-controls {
              display: none; }
            div#amplitude-player div#volume-container div#shuffle-right {
              display: block; } }
          /* Large and up */
          @media screen and (min-width: 64em) {
            div#amplitude-player div#repeat-container div#repeat {
              margin-left: 10px;
              margin-right: 20px;
              float: left; }
            div#amplitude-player div#volume-container div#shuffle-right {
              display: none; } }
          input[type=range].amplitude-volume-slider {
            -webkit-appearance: none;
            width: calc( 100% - 33px);
            float: left;
            margin-top: 10px;
            margin-left: 5px; }

          @-moz-document url-prefix() {
            input[type=range].amplitude-volume-slider {
              margin-top: 0px; } }
          @supports (-ms-ime-align: auto) {
            input[type=range].amplitude-volume-slider {
              margin-top: 3px;
              height: 12px;
              background-color: rgba(255, 255, 255, 0) !important;
              z-index: 999;
              position: relative; }

            div.ms-range-fix {
              height: 1px;
              background-color: #A9A9A9;
              width: 67%;
              float: right;
              margin-top: -6px;
              z-index: 9;
              position: relative; } }
          @media all and (-ms-high-contrast: none) {
            *::-ms-backdrop, input[type=range].amplitude-volume-slider {
              margin-top: -24px;
              background-color: rgba(255, 255, 255, 0) !important; } }
          input[type=range].amplitude-volume-slider:focus {
            outline: none; }

          input[type=range].amplitude-volume-slider::-webkit-slider-runnable-track {
            width: 75%;
            height: 1px;
            cursor: pointer;
            animate: 0.2s;
            background: #CFD8DC; }

          input[type=range].amplitude-volume-slider::-webkit-slider-thumb {
            height: 10px;
            width: 10px;
            border-radius: 10px;
            background: #00A0FF;
            cursor: pointer;
            margin-top: -4px;
            -webkit-appearance: none; }

          input[type=range].amplitude-volume-slider:focus::-webkit-slider-runnable-track {
            background: #CFD8DC; }

          input[type=range].amplitude-volume-slider::-moz-range-track {
            width: 100%;
            height: 1px;
            cursor: pointer;
            animate: 0.2s;
            background: #CFD8DC; }

          input[type=range].amplitude-volume-slider::-moz-range-thumb {
            height: 10px;
            width: 10px;
            border-radius: 10px;
            background: #00A0FF;
            cursor: pointer;
            margin-top: -4px; }

          input[type=range].amplitude-volume-slider::-ms-track {
            width: 100%;
            height: 1px;
            cursor: pointer;
            animate: 0.2s;
            background: transparent;
            /*leave room for the larger thumb to overflow with a transparent border */
            border-color: transparent;
            border-width: 15px 0;
            /*remove default tick marks*/
            color: transparent; }

          input[type=range].amplitude-volume-slider::-ms-fill-lower {
            background: #CFD8DC;
            border-radius: 10px; }

          input[type=range].amplitude-volume-slider::-ms-fill-upper {
            background: #CFD8DC;
            border-radius: 10px; }

          input[type=range].amplitude-volume-slider::-ms-thumb {
            height: 10px;
            width: 10px;
            border-radius: 10px;
            background: #00A0FF;
            cursor: pointer;
            margin-top: 2px; }

          input[type=range].amplitude-volume-slider:focus::-ms-fill-lower {
            background: #CFD8DC; }

          input[type=range].amplitude-volume-slider:focus::-ms-fill-upper {
            background: #CFD8DC; }

          input[type=range].amplitude-volume-slider::-ms-tooltip {
            display: none; }

          div#time-container span.current-time {
            color: #607D8B;
            font-size: 14px;
            font-weight: 700;
            float: left;
            width: 15%;
            text-align: center;
            position: absolute;
            left: 10;
          }
          div#time-container span.duration {
            color: #607D8B;
            font-size: 14px;
            font-weight: 700;
            float: left;
            width: 15%;
            text-align: center; }

          div#time-container:after {
            content: "";
            display: table;
            clear: both; }

          div#meta-container {
            text-align: center;
            margin-top: 5px; }
            div#meta-container span.song-name {
              display: block;
              color: #272726;
              font-size: 20px;
              font-family: 'Open Sans', sans-serif;
              white-space: nowrap;
              overflow: hidden;
              text-overflow: ellipsis; }
            div#meta-container div.song-artist-album {
              color: #607D8B;
              font-size: 14px;
              font-weight: 700;
              text-transform: uppercase;
              font-family: 'Open Sans', sans-serif;
              white-space: nowrap;
              overflow: hidden;
              text-overflow: ellipsis;
              display: flex;
              justify-content: center;

            }
              div#meta-container div.song-artist-album span {
                display: block; }

          /*
            3. Layout
          */
          body {
            /* background-image: -webkit-linear-gradient(316deg, #3BD2AE 0%, #36BAC2 100%); */
            /* background-image: linear-gradient(-226deg, #3BD2AE 0%, #36BAC2 100%);
             */
            height: 100vh;
            -webkit-font-smoothing: antialiased;
            font-family: "Helvetica Neue",Helvetica,Roboto,Arial,sans-serif;
            line-height: 1.5; }
          div.amplitude-wave-form{
              margin-top: -14px;
              display: none;
          }

           div.amplitude-wave-form svg{
                stroke: #00a0ff;
                height: 50px;
                width: 100%;
                stroke-width: .5px;
          }
           div.amplitude-wave-form svg g{
             stroke: #00a0ff;
             height: 50px;
             width: 100%;
          }
           div.amplitude-wave-form svg g path{
             stroke: #00a0ff;
             height: 50px;
             width: 100%;
          }

          div#large-visualization{
              width: 100%;
              background-color: black;
              visibility: hidden;
            }
          /*
            4. Pages
          */
          /*
            5. Themes
          */
          /*
            6. Utils
          */
          /*
            7. Vendors
          */

          /*# sourceMappingURL=app.css.map */
  </style>
  <!-- MY CUSTOM CLASSES -->
  <style>
    .myGradientFill{
          /* background: linear-gradient(270deg, #ff0000, #e1fb0f, #a958bb); */
          background: linear-gradient(270deg, rgba(255, 0, 246, 0.45), rgba(196, 204, 110, 0.36), rgba(138, 82, 246, 0.51));
          background-blend-mode: darken;
          background-size: 600% 600%;
          -webkit-animation: AnimationName 30s ease infinite;
          -moz-animation: AnimationName 30s ease infinite;
          animation: AnimationName 30s ease infinite;
      }

      @-webkit-keyframes AnimationName {
          0%{background-position:0% 50%}
          50%{background-position:100% 50%}
          100%{background-position:0% 50%}
      }
      @-moz-keyframes AnimationName {
          0%{background-position:0% 50%}
          50%{background-position:100% 50%}
          100%{background-position:0% 50%}
      }
      @keyframes AnimationName {
          0%{background-position:0% 50%}
          50%{background-position:100% 50%}
          100%{background-position:0% 50%}
      }

    .myAlbumArtClass{
      max-width: 200px;
    }
    #nextButton{
      position: fixed;
      height: 80px;
      width: 80px;
      right: 10;
      top: 50%;
      background-color: black;
      z-index: 2;
    }
    #prevButton{
      position: fixed;
      height: 80px;
      width: 80px;
      left: 10;
      top: 50%;
      background-color: black;
      z-index: 2;
    }
    #player-left-bottom{
      position: absolute;
      bottom: 0;
      width: 100%;
    }
    .albumSceneContainer{
      width: 100vw;
      height: 100vh;
      background-color: red;
      justify-content: center;
      align-items: center;
      position: relative;
    }
    .albumPlaylistContainer{
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      width: 50vw;
      height: 50vh;
      margin: auto;
      z-index: 5;
    }

    #allPlaylistsContainer{
      width: 400vw;
      display: flex;
      /* display: none; */
      justify-content: space-between;

    }
    #logoHolder{
      position: fixed;
      top:0;
      width: 100px;
      height: 100px;
      z-index: 5;
    }
    #logoHolder img{
      width: 100%;
    }
    .playlistTexture{
      display: none;

    .playlistNav{
      z-index: 106
    }

  </style>

  <body>
  <div id="logoHolder">
    <img src="logo.png" alt="">
  </div>
  <div id="mainBodyDiv">
      <div id="nextButton" class = 'playListNav' onclick = 'switchPlaylist(this)'></div>
      <div id="prevButton" class = 'playListNav' onclick = 'switchPlaylist(this)'></div>

      <div id="allPlaylistsContainer"></div>
        <canvas id="mainCanvas">
        </canvas>
        <canvas id="gradientCanvas">
        </canvas>
        <canvas id="threeCanvas">

        </canvas>
        <!-- Blue Playlist Container -->
        <img data-amplitude-song-info="cover_art_url" class="myAlbumArtClass"/>
        <!-- <div id="allPlaylistsContainer"> -->
          <div id="blue-playlist-container">
            <div id="amplitude-player">
                <div id="amplitude-left">
                    <div class="amplitude-visualization" id="large-visualization"></div>
                </div>

                <!-- <div id="amplitude-right"></div> -->
                <!-- End Right Side Player -->
          </div>
        </div>
        <!-- CONTROLS -->
        <div id="player-left-bottom">
          <div id="time-container">

                <div id="control-container">
                    <div id="repeat-container">
                        <div class="amplitude-repeat" id="repeat" data-amplitude-playlist='WEIRD NXC - ACT 1'></div>
                        <div class="amplitude-shuffle amplitude-shuffle-off" id="shuffle" data-amplitude-playlist='WEIRD NXC - ACT 1'></div>
                    </div>

                    <div id="central-control-container">
                        <div id="central-controls">
                            <div class="amplitude-prev" id="previous" data-amplitude-playlist='WEIRD NXC - ACT 1'></div>
                            <div class="amplitude-play-pause" id="play-pause" data-amplitude-playlist='WEIRD NXC - ACT 1'></div>
                            <div class="amplitude-next" id="next" data-amplitude-playlist='WEIRD NXC - ACT 1'></div>
                        </div>
                    </div>

                    <div id="volume-container">
                        <div class="volume-controls">
                            <div class="amplitude-mute amplitude-not-muted" data-amplitude-playlist='WEIRD NXC - ACT 1'></div>
                            <input type="range" class="amplitude-volume-slider" data-amplitude-playlist='WEIRD NXC - ACT 1'/>
                            <div class="ms-range-fix"></div>
                        </div>
                        <div class="amplitude-shuffle amplitude-shuffle-off" id="shuffle-right" data-amplitude-playlist='WEIRD NXC - ACT 1'></div>
                    </div>
                </div>
                <!-- <span class="current-time">
                    <span class="amplitude-current-minutes" ></span>:<span class="amplitude-current-seconds"></span>
                </span> -->
              <div id="progress-container">
                  <div class="amplitude-wave-form" data-amplitude-playlist='WEIRD NXC - ACT 1'></div>
                  <input type="range" class="amplitude-song-slider " data-amplitude-playlist='WEIRD NXC - ACT 1'/>
                    <progress id="song-played-progress" class="amplitude-song-played-progress" data-amplitude-playlist='WEIRD NXC - ACT 1'></progress>
                    <progress id="song-buffered-progress" class="amplitude-buffered-progress" value="0" data-amplitude-playlist='WEIRD NXC - ACT 1'></progress>
                </div>
                <!-- <span class="duration"> -->
                    <!-- <span class="amplitude-duration-minutes"></span>:<span class="amplitude-duration-seconds"></span> -->
                <!-- </span> -->
            </div>



        </div>
      <!-- PAPER.JS SCRIPT -->
      <script>
        // var path;
        // paper.install(window);
        //
        // 	window.onload = function() {
        // 		// Get a reference to the canvas object
        // 		// Create an empty project and a view for the canvas:
        // 		var canvas = document.getElementById('myGradCanv');
        // 		paper.setup(canvas);
        // 		//END PROJECT SET UP;
        //
        //
        //   var smooth = true;
        //   var mousePos = view.center / 2;
        //   var pathHeight = mousePos.y;
        //   var group = new Group();
        //
        //   path = new Path.Circle({
        //       center: view.center,
        //   		radius: 50,
        //   		strokeWidth: 0
        //   });
        //
        //
        //   path.fillColor = {
        //       gradient: {
        //           // stops: [['black', 0.05], ['blue', 0.2], ['rgb(208, 208, 208)', 1]],
        //           // stops: [['black', 0.05], ['blue', 0.2], ['rgb(208, 208, 208)', 1]],
        //           stops: [['rgb(208, 208, 208)', 0.3], ['blue', 0.2], ['rgb(208, 208, 208)', 1]],
        //           radial: true
        //       },
        //       origin: path.position,
        //       destination: path.bounds.rightCenter
        //   };
        //   group.addChild(path);
        //
        //   for(var i=0; i < 1; i++ ){
        //   	var cl = path.clone();
        //   	cl.position.x += i * 40;
        //   	// cl.strokeColor = 'black';
        //   	group.addChildren(cl);
        //
        //   }
        //
        //   var text = new PointText({
        //       point:  view.center,
        //       fillColor: 'black',
        //       fontFamily: 'Saira',
        //       fontSize: 12,
        //   		justification: 'left',
        //   	  // content: 'Frank.LD'
        //   });
        //   		//VARIABLES FOR MOUSE MOVE
        //   		var mousePos = view.center;
        //   		view.onMouseDown = function(event){
        //   			var mp = event.point;
        //   			group.children.forEach(function(a){
        //   				a.tween({position: mp }, {duration: 150 , ease: 'easeInOutQuad' });
        //   			});
        //   		}
        //   		view.onMouseDown = function(event){
        //   			var mp = event.point;
        //   			group.children.forEach(function(a){
        //   				a.tween({position: mp }, {duration: 150 , ease: 'easeInOutQuad' });
        //   			});
        //   		}
        //   		view.onMouseMove = function(event) {
        //   			mousePos = event.point;
        //   		}
        //
        //   		view.onFrame = function(event) {
        //   			var delta1 = mousePos.subtract(group.position);
        //   			group.position = group.position.add(delta1.divide(5));
        //   		}
        //
        //
        //   		view.onResize = function(event) {
        //   			text.position = view.center;
        //   		}
        //   		// Draw the view now:
        //   		paper.view.draw();
        //
        //
        //   	}
      </script>
      <!-- Player script  -->
      <script>
        // window.addEventListener("load", function() {
        //   var mouse = {
        //     position: {
        //       x: 0,
        //       y: 0
        //     },
        //     prevPosition: {
        //       x: 0,
        //       y: 0
        //     },
        //     velocity: 0
        //   };
        //
        //   function lerp (start, end, amount){
        //     return (1 - amount) * start + amount * end;
        //   }
        //
        //   // set up our WebGL context and append the canvas to our wrapper
        //   var webGLCurtain = new Curtains({
        //     container: "canvas",
        //     antialias: false, // render targets will disable default antialiasing anyway
        //   });
        //
        //   webGLCurtain.onRender(function() {
        //     // update our planes deformation
        //     // increase/decrease the effect
        //     planesDeformations = lerp(planesDeformations, 0, 0.02);
        //   }).onScroll(function() {
        //     // get scroll deltas to apply the effect on scroll
        //     var delta = webGLCurtain.getScrollDeltas();
        //
        //     // invert value for the effect
        //     delta.y = -delta.y;
        //
        //     // threshold
        //     if(delta.y > 30) {
        //       delta.y = 30;
        //     }
        //     else if(delta.y < -30) {
        //       delta.y = -30;
        //     }
        //
        //     if(Math.abs(delta.y) > Math.abs(planesDeformations)) {
        //       planesDeformations = lerp(planesDeformations, delta.y, 0.5);
        //     }
        //   }).onError(function() {
        //     // we will add a class to the document body to display original images
        //     document.body.classList.add("no-curtains", "planes-loaded");
        //   }).onContextLost(function() {
        //     // on context lost, try to restore the context
        //     webGLCurtain.restoreContext();
        //   });
        //
        //   // we will keep track of all our planes in an array
        //   var planes = [];
        //   var planesDeformations = 0;
        //
        //   // get our planes elements
        //   var planeElements = document.getElementsByClassName("plane");
        //
        //
        //   // all planes will have the same parameters
        //   var params = {
        //     vertexShaderID: "plane-vs", // our vertex shader ID
        //     fragmentShaderID: "plane-fs", // our fragment shader ID
        //     shareProgram: true, // share planes program to improve plane creation speed
        //     widthSegments: 10,
        //     heightSegments: 10,
        //     drawCheckMargins: {
        //       top: 100,
        //       right: 0,
        //       bottom: 100,
        //       left: 0,
        //     },
        //     uniforms: {
        //       mousePosition: {
        //         name: "uMousePosition",
        //         type: "2f",
        //         value: [mouse.position.x, mouse.position.y]
        //       },
        //       mouseVelocity: {
        //         name: "uMouseVelocity",
        //         type: "1f",
        //         value: mouse.velocity
        //       },
        //       planeDeformation: {
        //         name: "uPlaneDeformation",
        //         type: "1f",
        //         value: 0,
        //       },
        //     }
        //   };
        //
        //   // add our planes and handle them
        //   for(var i = 0; i < planeElements.length; i++) {
        //     planes.push(webGLCurtain.addPlane(planeElements[i], params));
        //
        //     handlePlanes(i);
        //   }
        //
        //
        //   // handle all the planes
        //   function handlePlanes(index) {
        //     var plane = planes[index];
        //
        //     // check if our plane is defined and use it
        //     plane && plane.onLoading(function() {
        //       //console.log(plane.loadingManager.sourcesLoaded);
        //     }).onReady(function() {
        //       // once everything is ready, display everything
        //       if(index === planes.length - 1) {
        //         document.body.classList.add("planes-loaded");
        //       }
        //
        //       window.addEventListener("mousemove", function(e) {
        //         onMouseMove(e, plane);
        //       });
        //
        //       window.addEventListener("touchmove", function(e) {
        //         onMouseMove(e, plane);
        //       });
        //     }).onRender(function() {
        //       // update the uniform
        //       plane.uniforms.planeDeformation.value = planesDeformations;
        //     });
        //   }
        //
        //   function onMouseMove(e, plane) {
        //     mouse.prevPosition.x = mouse.position.x;
        //     mouse.prevPosition.y = mouse.position.y;
        //
        //     if(e.targetTouches) {
        //       mouse.position.x = e.targetTouches[0].clientX;
        //       mouse.position.y = e.targetTouches[0].clientY;
        //     }
        //     else {
        //       mouse.position.x = e.clientX;
        //       mouse.position.y = e.clientY;
        //     }
        //
        //     mouse.velocity.x = mouse.prevPosition.x - mouse.position.x;
        //     mouse.velocity.y = mouse.prevPosition.y - mouse.position.y;
        //
        //     // convert our mouse/touch position to coordinates relative to the vertices of the plane
        //     var mouseCoords = plane.mouseToPlaneCoords(mouse.position.x, mouse.position.y);
        //
        //     // update uniform
        //     plane.uniforms.mousePosition.value = [mouseCoords.x, mouseCoords.y];
        //     plane.uniforms.mouseVelocity.value = [mouse.velocity.x, mouse.velocity.y];
        //   }
        //
        //   var shaderPassParams = {
        //     fragmentShaderID: "shaderpass-fs", // we'll be using the lib default vertex shader
        //     uniforms: {
        //       timer: {
        //         name: "uTimer",
        //         type: "1f",
        //         value: 0,
        //       },
        //       displacement: {
        //         name: "uDisplacement",
        //         type: "1f",
        //         value: 0,
        //       },
        //     },
        //   };
        //
        //   var shaderPass = webGLCurtain.addShaderPass(shaderPassParams);
        //
        //   // if our shader pass has been successfully created
        //   if(shaderPass) {
        //     shaderPass.onReady(function() {
        //       console.log("shader pass is ready");
        //     }).onRender(function() {
        //       // update the uniforms
        //       shaderPass.uniforms.timer.value++;
        //       shaderPass.uniforms.displacement.value = planesDeformations / 5;
        //     });
        //   }
        //   });
      </script>
      <script>

          /*
            When the bandcamp link is pressed, stop all propagation so AmplitudeJS doesn't
            play the song.
          */

          // document.getElementById('large-visualization').style.height = document.getElementById('album-art').offsetWidth + 'px';
        // var realSongObjs = [];
        var songHTMLSections = [];
        var albumPlaylists = [];
        var playlistContainer = document.getElementById('amplitude-right')
        var songDataObjs;
        var amplitudeDataObjs;
        var rawJSON;
        var headerNames;
        var headerCells;
        var cells;
        var currentPlayListIndex = 0;
        var albumObjs;

        const songDataSheetURL = 'https://spreadsheets.google.com/feeds/cells/1A5fo1IWGw-XkjIqPXYb7sZfPvDIYMOv-vOwawq14ARo/1/public/full?alt=json'

        var songDataObjs = generateObjectFromSpreadData(songDataSheetURL).then(function(returnData){
            songDataObjs = returnData;
            let albumNameColumn = getAllValuesInColumn(headerCells, cells, 'album', true)
            let uniqueAlbumNames = albumNameColumn.filter(onlyUnique)
            let testName = uniqueAlbumNames[0]
            let testGroup = groupBy(songDataObjs, obj => obj.album)
            albumObjs =  makeAlbumObjs(testGroup, document.querySelector('#allPlaylistsContainer'))
            amplitudeDataObjs = generateAmpltiudeDataObjArray(albumObjs)
            console.log(JSON.stringify(amplitudeDataObjs));
            testTest(amplitudeDataObjs)
            // console.log('AMPLITUDEDATAOBJS', amplitudeDataObjs)
            // testTest(amplitudeDataObjs)
            // Amplitude.init(amplitudeDataObjs)

        });

        function switchPlaylist(e){
          console.log('CLIKED ID', e.id);
          if (e.id === 'nextButton') {
            currentPlayListIndex++;
          } else {
            currentPlayListIndex--;
          }
          currentAlbumObj = albumObjs[currentPlayListIndex]
          // toScrollTo = currentAlbumObj.albumSceneContainer.
          toScrollTo = albumObjs[currentPlayListIndex].albumPlaylistContainer
          // console.log('TOSCROLLTO', toScrollTo)
          // $('.leftArrow').click(function(event){
            // event.preventDefault();
          // $('#allPlaylistsContainer').animate({scrollLeft:'+=1500'},500);

          // console.log(currentPlayListIndex);
            $('body').scrollTo(toScrollTo, 500, {
              axis: 'x',
              margin: true
          })
        }

        function groupBy(list, keyGetter) {
            const map = new Map();
            list.forEach((item) => {
                 const key = keyGetter(item);
                 const collection = map.get(key);
                 if (!collection) {
                     map.set(key, [item]);
                 } else {
                     collection.push(item);
                 }
            });
            return map;
        }

        function makeAlbumObjs(mapGroup, parentElem){
          let array = Array.from(mapGroup)
          let groupObjArray = []


          for (var i = 0; i < array.length; i++) {
            let curTempAlbumData = array[i]
            let albumSceneContainer = createClassIdAppend(parentElem, 'div', 'albumSceneContainer', 'albumSceneContainer_'+i)
            let playlistContainer = createClassIdAppend(albumSceneContainer, 'div', 'albumPlaylistContainer amplitudeRight', 'albumPlaylistContainer_'+i)
            // let playlistTexture = createClassIdAppend(playlistContainer, 'img', 'playlistTexture')
            // setElemAttribute(playlistTexture, 'src', 'data/textures/glasstexture1.png')
            let albumPlaylist = generatePlaylist(playlistContainer, curTempAlbumData)
            // let randomColor = getRandomColor()
            let randomColor2 = getRandomColor()
            $(playlistContainer).css('background-color', 'rgba(255, 255, 255, 0)')
            $(albumSceneContainer).css('background-color', randomColor2)

            let albumObj = {
              'albumName': curTempAlbumData[0],
              'albumSongObjs': curTempAlbumData[1],
              'albumSceneContainer': albumSceneContainer,
              'albumPlaylistContainer': playlistContainer
            }
            groupObjArray.push(albumObj)
          }
          return groupObjArray
        }

        function onlyUnique(value, index, self) {
            return self.indexOf(value) === index;
        }

        function getAllValuesInColumn(theHeaderCells, theSheetCeels, columnName, ignoreHeader){
          var desiredHeaderCell = theHeaderCells.filter(obj => {
              return obj.content.$t  === columnName
          })
          let headerColumnName = desiredHeaderCell[0].gs$cell.col
          let columnCells = theSheetCeels.filter(test => {
              return test.gs$cell.col  === headerColumnName
          })
          let desiredColumnValues = columnCells.map(a=>a.content.$t)

          if (ignoreHeader == true) {
            desiredColumnValues.shift()
          }
          return desiredColumnValues;
        }

        function sortObjectsBasedOnValue(){
          let key = onlyUnique()
        }

        // console.log('SONGDATAOBJS', songDataObjs)
        // cl
        function makeSongContainer(parentElem, index) {
          let songContainer = createClassIdAppend(parentElem, 'div', "song amplitude-song-container amplitude-play-pause", 'songContainer_'+index)
          let songNowPlayingIconContainer = createClassIdAppend(songContainer,'div', 'song-now-playing-icon-container', 'songNowPlayingIconContainer'+index)
          let playButtonContainer = createClassIdAppend(songNowPlayingIconContainer, 'div', 'play-button-container', 'playButtonContainer_'+index)
          let nowPlaying = createClassIdAppend(songNowPlayingIconContainer, 'img', 'now-playing', 'nowPlaying_'+index)

          let songMetaData = createClassIdAppend(songContainer, 'div', 'song-meta-data', 'songMetaData_'+index)
          // let songTitle = createClassIdAppend(songMetaData, 'span', 'song-title', 'songTitle_'+index)
          let songTitle = createClassIdAppend(songMetaData, 'a', 'song-title', 'songTitle_'+index)
          let songArist = createClassIdAppend(songMetaData, 'span', 'song-artist', 'songArist_'+index)

          let bandcampLink = createClassIdAppend(songContainer, 'a', 'bandcamp-link', 'bandcampLink_'+index)
          let bandcampGray = createClassIdAppend(bandcampLink, 'img', 'bandcamp-grey', 'bandcampGray_'+index)
          let bandcampWhite = createClassIdAppend(bandcampLink, 'img', 'bandcamp-white', 'bandcampWhite_'+index)

          let songDuration = createClassIdAppend(songContainer, 'span', 'song-duration', 'songDuration_'+index)

          let songContainerObj = {
             'songContainer':songContainer,
             'songNowPlayingIconContainer': songNowPlayingIconContainer,
             'playButtonContainer': playButtonContainer,
             'nowPlaying': nowPlaying,
             'songMetaData': songMetaData,
             'songTitle': songTitle,
             'songArist': songArist,
             'bandcampLink': bandcampLink,
             'bandcampGray': bandcampGray,
             'bandcampWhite': bandcampWhite,
             'songDuration': songDuration
          }
          return songContainerObj;
        }

        function generateSongURLString(dObj, songIndex, albumNum){
          let songNum = leadingZero(songIndex)
          let artistName = generateArtistText(dObj)
          let dash = '-'
          let songName = ([songNum, artistName, dash, dObj.name].join(' '))+'.mp3'
          let albumFolder = 'album'+albumNum
          let songAddress = ['data', albumFolder, songName].join('/')
          let encoded = encodeURI(songAddress)
          return encoded
        }

        function generateArtistText(dObj){
          let artistNameString
          if (dObj.collab_symbol !== 'NA') {
            artistNameString = [dObj.artist1, dObj.collab_symbol, dObj.artist2].join(' ')
          } else {
            artistNameString = dObj.artist1
          }
          return artistNameString
        }

        function leadingZero(num){
          numPlus = num+1;
          let formattedNum
          if(numPlus.toString().length < 2){
           formattedNum= "0"+numPlus;
         } else {
           formattedNum = numPlus
         }
         return formattedNum
        }
        // /data/album0/04%20%20P%20H%20Y%20S%20A%20-%20w0nd3rful.mp3
        // 04%20%E3%80%8C%20P%20H%20Y%20S%20A%20%E3%80%8D%20-%20w0nd3rful.mp3

        function generateAmpltiudeDataObjArray(albums){
          // console.log('ALBUMS', albums)
         var playListObj = {}
         let testFinal = {}

          for (var i = 0; i < 1; i++) {
              let curAlbum = albums[i]
              let curSongObjs = curAlbum.albumSongObjs
              let albumSongPlaylist = []
              for (var j = 0; j < curSongObjs.length; j++) {
                 let amplitudeDataObjArray = []
                 let curSong = curSongObjs[j]
                 let songLocation = generateSongURLString(curSong, j, i)
                 console.log('SONGLOCATION', songLocation)

                 let ampDO = {
                   'name': curSong.name,
                   'artist': generateArtistText(curSong),
                   'album': curSong.album,
                   'url': songLocation,
                   // 'url': 'data/album0/04%20%20P%20H%20Y%20S%20A%20-%20w0nd3rful.mp3',
                   // 'url': 'data/album0/04%20%E3%80%8C%20P%20H%20Y%20S%20A%20%E3%80%8D%20-%20w0nd3rful.mp3',
                   'cover_art_url': curSong.cover_art_url
                 }
                 albumSongPlaylist.push(ampDO)
               }
               let songsObj = {
                 'songs': albumSongPlaylist
               }
               playListObj[curAlbum.albumName] = songsObj

               testFinal.playlists = playListObj

           }
       console.log('TESTFINAL', testFinal)
          // finalAmplitudeObj.playlists = playListObj
          return testFinal
        }


        function testTest(dataObjs){
          let bandcampLinks = document.getElementsByClassName('bandcamp-link');

          for( var i = 0; i < bandcampLinks.length; i++ ){
            bandcampLinks[i].addEventListener('click', function(e){
                e.stopPropagation();
            });
          }


          let songElements = document.getElementsByClassName('song');
          // console.log(songElements);

          for( var i = 0; i < songElements.length; i++ ){
            /*

                Ensure that on mouseover, CSS styles don't get messed up for active songs.
            */
            songElements[i].addEventListener('mouseover', function(){
                // this.style.backgroundColor = '#00A0FF';
                // console.log(i);
                    console.log('SONGELEMENTS[I]', songElements[i])
                // console.log('got hovered');
                $(this).toggleClass('myGradientFill')
                this.querySelectorAll('.song-meta-data .song-title')[0].style.color = '#FFFFFF';
                this.querySelectorAll('.song-meta-data .song-artist')[0].style.color = '#FFFFFF';

                if( !this.classList.contains('amplitude-active-song-container') ){
                    this.querySelectorAll('.play-button-container')[0].style.display = 'block';
                }

                this.querySelectorAll('img.bandcamp-grey')[0].style.display = 'none';
                this.querySelectorAll('img.bandcamp-white')[0].style.display = 'block';
                this.querySelectorAll('.song-duration')[0].style.color = '#FFFFFF';
            });


            /*
                Ensure that on mouseout, CSS styles don't get messed up for active songs.
            */
            songElements[i].addEventListener('mouseout', function(){
                $(this).toggleClass('myGradientFill')
                this.style.backgroundColor = 'rgba(0, 0, 0, 0)';
                this.querySelectorAll('.song-meta-data .song-title')[0].style.color = '#272726';
                this.querySelectorAll('.song-meta-data .song-artist')[0].style.color = '#607D8B';
                this.querySelectorAll('.play-button-container')[0].style.display = 'none';
                this.querySelectorAll('img.bandcamp-grey')[0].style.display = 'block';
                this.querySelectorAll('img.bandcamp-white')[0].style.display = 'none';
                this.querySelectorAll('.song-duration')[0].style.color = '#607D8B';
            });

            /*
                Show and hide the play button container on the song when the song is clicked.
            */
            songElements[i].addEventListener('click', function(){
                this.querySelectorAll('.play-button-container')[0].style.display = 'none';
            });
          }

          /*
            Initializes AmplitudeJS
          */
          Amplitude.init(dataObjs)
          }

        function generatePlaylist(parentElem, albumDataArray) {
          // console.log(parentElem);
          let albumSongArray = albumDataArray[1]
          let albumName = albumDataArray[0]
          for (var i = 0; i < albumSongArray.length; i++) {
            let curSongDataObj = albumSongArray[i]
            let curSongHTMLObj =  makeSongContainer(parentElem,i)
            setSongHTMLObjContent(curSongHTMLObj, curSongDataObj, i, albumName)
            songHTMLSections.push(curSongHTMLObj)
          }
        }

        function setSongHTMLObjContent(hObj, dObj, index, albumName){
          console.log('ALBUMNAME', albumName)

          // console.log('DOBJ', dObj)
          setElemAttribute(hObj.songContainer, 'data-amplitude-song-index', index)
          $(hObj.songContainer).attr('data-amplitude-playlist', albumName)
          setElemAttribute(hObj.nowPlaying, 'src', 'https://521dimensions.com/img/open-source/amplitudejs/blue-player/now-playing.svg')
          $(hObj.songContainer).attr('data-amplitude-song-index', index)
          let artistName = generateArtistNameString(dObj)
          setElemAttribute(hObj.songTitle, 'innerHTML', dObj.name)

          setElemAttribute(hObj.songArist, 'innerHTML', artistName)
          setElemAttribute(hObj.bandcampLink, 'href', dObj.Artist_Link)
          setElemAttribute(hObj.songDuration, 'innerHTML', dObj.Song_Duration)

          setElemAttribute(hObj.bandcampLink, 'target', '_blank')
          setElemAttribute(hObj.bandcampGray, 'src','https://521dimensions.com/img/open-source/amplitudejs/blue-player/bandcamp-grey.svg')
          setElemAttribute(hObj.bandcampWhite, 'src','https://521dimensions.com/img/open-source/amplitudejs/blue-player/bandcamp-white.svg')

        }

        function generateArtistNameString(dObj){
          let artistNameString
          if (dObj.collab_symbol !== 'NA') {
            artistNameString = [generateArtistLink(dObj, dObj.artist1, dObj.artist1_Link), dObj.collab_symbol, generateArtistLink(dObj, dObj.artist2, dObj.artist2_Link )].join(' ')
          } else {
            artistNameString = generateArtistLink(dObj, dObj.artist1, dObj.artist1_Link)
          }
          return artistNameString
        }

        function generateObjectFromSpreadData(url) {
            // const response = await fetch('')
            let myCellContentArr = []
            let finalProjObs = []
            let starts = []
            let ranges = []
            let testProjArray = []

            return $.getJSON(url).then(function(data) {
              rawJSON = data;
              cells = data.feed.entry;
              // console.log('CELLS', cells)
              let numRows = parseInt(data.feed.gs$rowCount.$t)
              let numCols = parseInt(data.feed.gs$colCount.$t)
              let totalNumCels = numRows * numCols;

              for (var i = 0; i < numRows; i++) {
                let range = numCols * i;
                starts.push(range)
              }

              for (var i = 0; i < starts.length; i++) {
                let curStart = starts[i]
                let curRange = []
                curRange[0] = curStart
                curRange[1] = curStart + numCols
                ranges.push(curRange)
              }

              for (var i = 0; i < ranges.length; i++) {
                let curRange = ranges[i]
                let projArray = cells.slice(curRange[0], curRange[1])
                let contentArray = []
                for (var j = 0; j < projArray.length; j++) {
                  let curCell = projArray[j]
                  let curContent = curCell.content.$t;
                  contentArray.push(curContent)
                }
                myCellContentArr.push(contentArray)
              }

              for (var i = 0; i < cells.length; i++) {
                let curCell = cells[i]
              }

              headerCells = cells.filter(obj => {
                return obj.gs$cell.row === "1"
              })

              headerNames = headerCells.map(a => a.content.$t)
              let testObj = {}
              for (var i = 1; i < myCellContentArr.length; i++) {
                let curContentArray = myCellContentArr[i]
                let contentObjHolder = {}
                for (var j = 0; j < headerNames.length; j++) {
                  let curPropToAdd = headerNames[j]
                  contentObjHolder[curPropToAdd] = curContentArray[j]

                }
                finalProjObs.push(contentObjHolder)
              }

              return finalProjObs
            })
        }
        //babylon
        var canvas = document.getElementById("mainCanvas"); // Get the canvas element
                var engine = new BABYLON.Engine(canvas, true); // Generate the BABYLON 3D engine

                /******* Add the create scene function ******/
                var createScene = function () {

                    // Create the scene space
                    var scene = new BABYLON.Scene(engine);
                    // scene.createDefaultEnvironment();
                    scene.clearColor = new BABYLON.Color4(0,0,0,0)
                    // Add a camera to the scene and attach it to the canvas
                    var camera = new BABYLON.ArcRotateCamera("Camera", Math.PI / 2, Math.PI / 2, 2, new BABYLON.Vector3(0,0,5), scene);
                    // cameara.position = new BABYLON.Vector3(0,0,0)
                      console.log(camera.position);
                    // camera.attachControl(canvas, true);
                    var reflectionTexture = new BABYLON.HDRCubeTexture("./textures/environment.hdr", scene, 128, false, true, false, true);
                    // Add lights to the scene
                    var light1 = new BABYLON.HemisphericLight("light1", new BABYLON.Vector3(1, 1, 0), scene);
                    var light2 = new BABYLON.PointLight("light2", new BABYLON.Vector3(0, 1, -1), scene);

                    // Add and manipulate meshes in the scene

                    var sphere = BABYLON.MeshBuilder.CreateSphere("sphere", {diameter:5}, scene);
                    BABYLON.SceneLoader.Append("data/3D_Models/", "fence.glb", scene, function (added) {
                      console.log('ADDED', added)

                        // do something with the scene
                        // let addedScene = added[0]
                        // let meshes = addedScene.meshes
                        // for (var i = 0; i < meshes.length; i++) {
                        //   let curMesh = meshes[i]
                          // curMesh.material = pbr2;
                          // pbr2.metallic = 1;
                          // pbr2.roughness = 0;
                          // curMesh.position = new BABYLON.Vector3(0, 0, 0);
                        // }
                    });
                    // var sphere = BABYLON.Mesh.CreateSphere("sphere", 3, 3, scene);
                    // var sphere2 = BABYLON.MeshBuilder.CreateSphere("sphere", {diameter:2}, scene);
                    // var sphere2 = BABYLON.Mesh.CreateSphere("sphere", 1, 1, scene);
                    var pbr = new BABYLON.PBRMaterial("pbr", scene);
                    sphere.material = pbr
                    var gradientMaterial = new BABYLON.GradientMaterial("grad", scene);
                    gradientMaterial.topColor = new BABYLON.Color3(0, 0, 1);
                    gradientMaterial.bottomColor = new BABYLON.Color3(0, 0, 0);
                    gradientMaterial.offset = 0.8;
                     gradientMaterial.smoothness = 1;
                   sphere.material = gradientMaterial;

                    pbr.metallic = 0;
                    pbr.roughness = 0;
                    scene.activeCamera.attachControl(canvas, false);
                    pbr.subSurface.isRefractionEnabled = true;
                    pbr.subSurface.indexOfRefraction = 1.5;
                    pbr.subSurface.tintColor = BABYLON.Color3.Teal();

                    sphere.material = gradientMaterial

                    return scene;
                };
                /******* End of the create scene function ******/

                var scene = createScene(); //Call the createScene function

                // Register a render loop to repeatedly render the scene
                engine.runRenderLoop(function () {

                        scene.render();
                });

                // Watch for browser/canvas resize events
                window.addEventListener("resize", function () {
                        engine.resize();
                });


        var granimInstance = new Granim({
              element: '#gradientCanvas',
              direction: 'top-bottom',
              isPausedWhenNotInView: true,
              states : {
                  "default-state": {
                      gradients: [
                          ['#ff9966', '#ff5e62'],
                          ['#00F260', '#0575E6'],
                          ['#e1eec3', '#f05053']
                      ]
                  }
              }
          });
        // utils
        function generateArtistLink(dObj, artistName, artistLink) {
            generatedString = '<a' + ' target=' + '_blank' + ' ' + 'href=' + artistLink + '>' + artistName + '</a>'
            return generatedString
        }

        function setElemAttribute(elem, attr, content) {
          elem[attr] = content
        }

        function createClassIdAppend(parentElem, htmlType, className, idName) {

              let testPar = parentElem
              let elementToAdd = document.createElement(htmlType);
              elementToAdd.setAttribute('class', className);
              elementToAdd.setAttribute('id', idName);
              if (testPar == null) {
                return;
              }
              testPar.appendChild(elementToAdd);
              return elementToAdd;
          }
          // </div>

        function getRandomColor() {
          var letters = '0123456789ABCDEF';
          var color = '#';
          for (var i = 0; i < 6; i++) {
            color += letters[Math.floor(Math.random() * 16)];
          }
          return color;
        }



    </script>

    <!-- THREE TRY 1 -->
     <script>
    </script>


  </body>

  </html>
